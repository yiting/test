// 测试的数据
let designjson = 
[{
    "id": "3B0AB067-0AF1-4ED4-AFA3-E77128EEAD00",
    "type": "QBody",
    "name": "附近资料卡-客态",
    "width": 750,
    "height": 1433,
    "x": -979,
    "y": -1945,
    "abX": 0,
    "abY": 0,
    "constraints": [],
    "bodyIndex": "1_1",
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": {
            "type": "color",
            "color": {
                "r": 255,
                "g": 255,
                "b": 255,
                "a": 1
            },
            "hasOpacity": false
        }
    },
    "parent": null,
    "children": ["869FABE7-9504-43CF-B221-E5473D792822"],
    "childnum": 1,
    "hasStyle": true
}, {
    "id": "869FABE7-9504-43CF-B221-E5473D792822",
    "type": "QLayer",
    "name": "no.1 copy",
    "width": 421,
    "height": 198,
    "x": 28,
    "y": 28,
    "abX": 28,
    "abY": 28,
    "constraints": [],
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null
    },
    "parent": "3B0AB067-0AF1-4ED4-AFA3-E77128EEAD00",
    "children": ["A2FBE254-F071-4380-8138-4462E2796DD3", "807D9AB8-E218-4365-BE0C-7A5B67C9EAEB"],
    "childnum": 2,
    "hasStyle": false
}, {
    "id": "A2FBE254-F071-4380-8138-4462E2796DD3",
    "type": "QLayer",
    "name": "Group 16",
    "width": 421,
    "height": 132,
    "x": 0,
    "y": 66,
    "abX": 28,
    "abY": 94,
    "constraints": [],
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null
    },
    "parent": "869FABE7-9504-43CF-B221-E5473D792822",
    "children": ["62845BCF-C605-429B-A82E-9FE1F6DF0C4A", "AB38DDB3-2245-4CAE-8FC4-B462771785E0"],
    "childnum": 2,
    "hasStyle": false
}, {
    "id": "62845BCF-C605-429B-A82E-9FE1F6DF0C4A",
    "type": "QImage",
    "name": "pic",
    "width": 226,
    "height": 132,
    "x": 0,
    "y": 0,
    "abX": 28,
    "abY": 94,
    "constraints": [],
    "styles": {
        "borderRadius": [0, 0, 0, 0]
    },
    "parent": "A2FBE254-F071-4380-8138-4462E2796DD3",
    "children": [],
    "childnum": 0,
    "path": "images/1_1-0.png",
    "hasStyle": true
}, {
    "id": "AB38DDB3-2245-4CAE-8FC4-B462771785E0",
    "type": "QLayer",
    "name": "文字",
    "width": 171,
    "height": 104,
    "x": 250,
    "y": 14,
    "abX": 278,
    "abY": 108,
    "constraints": [],
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null
    },
    "parent": "A2FBE254-F071-4380-8138-4462E2796DD3",
    "children": ["D04E89C4-2F13-439F-9C2F-8FE6FA6ADF16", "11DE6AD1-BE53-45C5-92D0-CEF990BC93BC", "7C8550FD-BEFF-46BD-ADC4-8EE2EA59D5C0", "37B9D2D8-8842-4FC2-AF20-66F432E76C7D"],
    "childnum": 4,
    "hasStyle": false
}, {
    "id": "D04E89C4-2F13-439F-9C2F-8FE6FA6ADF16",
    "type": "QText",
    "name": "小鸡厨房",
    "width": 112,
    "height": 28,
    "x": 0,
    "y": 0,
    "abX": 278,
    "abY": 108,
    "constraints": [],
    "text": "小鸡厨房",
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null,
        "texts": [{
            "color": {
                "r": 0,
                "g": 0,
                "b": 0,
                "a": 1
            },
            "string": "小鸡厨房",
            "font": "PingFangSC-Regular",
            "size": 28
        }],
        "verticalAlign": 0,
        "textAlign": 0,
        "lineHeight": 28
    },
    "parent": "AB38DDB3-2245-4CAE-8FC4-B462771785E0",
    "children": [],
    "childnum": 0,
    "hasStyle": false
}, {
    "id": "11DE6AD1-BE53-45C5-92D0-CEF990BC93BC",
    "type": "QText",
    "name": "休闲",
    "width": 48,
    "height": 24,
    "x": 0,
    "y": 42,
    "abX": 278,
    "abY": 150,
    "constraints": [],
    "text": "休闲",
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null,
        "texts": [{
            "color": {
                "r": 153,
                "g": 153,
                "b": 153,
                "a": 1
            },
            "string": "休闲",
            "font": "PingFangSC-Regular",
            "size": 24
        }],
        "verticalAlign": 0,
        "textAlign": 0,
        "lineHeight": 24
    },
    "parent": "AB38DDB3-2245-4CAE-8FC4-B462771785E0",
    "children": [],
    "childnum": 0,
    "hasStyle": false
}, {
    "id": "7C8550FD-BEFF-46BD-ADC4-8EE2EA59D5C0",
    "type": "QText",
    "name": "1.5W人预约",
    "width": 125,
    "height": 24,
    "x": 0,
    "y": 80,
    "abX": 278,
    "abY": 188,
    "constraints": [],
    "text": "1.5W人预约",
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null,
        "texts": [{
            "color": {
                "r": 153,
                "g": 153,
                "b": 153,
                "a": 1
            },
            "string": "1.5W人预约",
            "font": "PingFangSC-Regular",
            "size": 24
        }],
        "verticalAlign": 0,
        "textAlign": 0,
        "lineHeight": 24
    },
    "parent": "AB38DDB3-2245-4CAE-8FC4-B462771785E0",
    "children": [],
    "childnum": 0,
    "hasStyle": false
}, {
    "id": "37B9D2D8-8842-4FC2-AF20-66F432E76C7D",
    "type": "QImage",
    "name": "7 下午8.15.24",
    "width": 38,
    "height": 19,
    "x": 133,
    "y": 82,
    "abX": 411,
    "abY": 190,
    "constraints": [],
    "path": "images/1_1-1.png",
    "styles": {},
    "parent": "AB38DDB3-2245-4CAE-8FC4-B462771785E0",
    "children": [],
    "childnum": 0,
    "hasStyle": true
}, {
    "id": "807D9AB8-E218-4365-BE0C-7A5B67C9EAEB",
    "type": "QText",
    "name": "看看即将上线的新游戏",
    "width": 360,
    "height": 36,
    "x": 0,
    "y": 0,
    "abX": 28,
    "abY": 28,
    "constraints": [],
    "text": "看看即将上线的新游戏",
    "styles": {
        "borderRadius": [0, 0, 0, 0],
        "border": null,
        "opacity": 1,
        "rotation": 0,
        "shadows": null,
        "background": null,
        "texts": [{
            "color": {
                "r": 0,
                "g": 0,
                "b": 0,
                "a": 1
            },
            "string": "看看即将上线的新游戏",
            "font": "PingFangSC-Medium",
            "size": 36
        }],
        "verticalAlign": 0,
        "textAlign": 0,
        "lineHeight": 36
    },
    "parent": "869FABE7-9504-43CF-B221-E5473D792822",
    "children": [],
    "childnum": 0,
    "hasStyle": false
}];

// 引入的模块包
const Common = require('../../code/server_modules/dsl2/dsl_common.js');
const Dsl = require('../../code/server_modules/dsl2/dsl.js');
const Render = require('../../code/server_modules/render/render.js');


let dslTree = Dsl.process(designjson, 750, 750, Common.FlexLayout);
let render = Render.process(dslTree, Common.FlexLayout);

let htmlStr = render.getTagString();
let cssStr = render.getStyleString();
//console.log(htmlStr);
//console.log(cssStr);
// 输出文件
// render.outputFileWithPath('./output/index.html', htmlStr);
// render.outputFileWithPath('./output/index.css', cssStr);

